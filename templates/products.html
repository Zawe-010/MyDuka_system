{% extends "base.html" %}

{% block content %}

<div class="container">
    <br>

    <!-- Page Description -->
    <div class="mb-4">
        <p class="fs-5">
            Welcome to the Products Page. This section allows you to manage your product inventory.
            You can view all products currently available in stock, along with details such as
            buying price, selling price, and quantity.
        </p>
        <p class="fs-5">
            To add a new product, click the <strong>"Add Product"</strong> button. A form will appear
            in a modal where you can enter the necessary product information. Once submitted, the
            product will be added to the list below.
        </p>
    </div>

    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary mb-4" data-bs-toggle="modal" data-bs-target="#exampleModal">
        Add Product
    </button>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">

                <form action="/add_products" method="post">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Add Product</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <div class="modal-body">
                        <div class="mb-3">
                            <label for="productName" class="form-label fs-5">Product Name</label>
                            <input type="text" class="form-control" name="p-name" id="productName" required>
                        </div>

                        <div class="mb-3">
                            <label for="buyingPrice" class="form-label fs-5">Buying Price</label>
                            <input type="number" class="form-control" name="b-price" id="buyingPrice" required>
                        </div>

                        <div class="mb-3">
                            <label for="sellingPrice" class="form-label fs-5">Selling Price</label>
                            <input type="number" class="form-control" name="s-price" id="sellingPrice" required>
                        </div>

                    </div>

                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Add Product</button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </form>

            </div>
        </div>
    </div>

    <br>

    <!-- Products Table -->
    <h3 class="text-center fs-3">Products Data</h3>
    <div class="table-responsive">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th scope="col" class="fs-6">Product ID</th>
                    <th scope="col" class="fs-6">Product Name</th>
                    <th scope="col" class="fs-6">Buying Price</th>
                    <th scope="col" class="fs-6">Selling Price</th>
                </tr>
            </thead>
            <tbody>
                {% for product in products %}
                <tr>
                    <td class="fs-6">{{ product[0] }}</td>
                    <td class="fs-6">{{ product[1] }}</td>
                    <td class="fs-6">{{ product[2] }}</td>
                    <td class="fs-6">{{ product[3] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}